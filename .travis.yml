sudo: required
language: python

services:
  - docker

before_install:
  - docker build -t pysplinefit .

install:
  - pip install codecov

script:
  - docker run pysplinefit /bin/bash -c "cd /code && source activate test && python -m pytest -v --cov=./ && curl -s https://codecov.io/bash"

notifications:
  email: false
